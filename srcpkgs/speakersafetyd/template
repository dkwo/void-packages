# Template file for 'speakersafetyd'
pkgname=speakersafetyd
version=0.1.9
revision=1
build_style=cargo
hostmakedepends="alsa-lib pkg-config cargo"
makedepends="alsa-lib-devel"
short_desc="A software Smart Amp implementation"
maintainer="Orphaned <orphan@voidlinux.org>"
license="MIT"
homepage="https://github.com/AsahiLinux/speakersafetyd"
distfiles="https://github.com/AsahiLinux/speakersafetyd/archive/refs/tags/0.1.9.tar.gz"
checksum=a20d1cc80af156f517161e0ef3e8701388e275c1f5d6719de994ce2c4241d532

do_install() {
	vinstall target/aarch64-unknown-linux-gnu/release/speakersafetyd 755 usr/bin/
	vinstall 95-speakersafetyd.rules 644 usr/lib/udev/rules.d/95-speakersafetyd.rules
	vmkdir usr/share/speakersafetyd
	vmkdir usr/share/speakersafetyd/apple
	for f in conf/apple/*; do
		vinstall "$f" 644 usr/share/speakersafetyd/apple
	done
	vmkdir var/lib/speakersafetyd/
	vmkdir var/lib/speakersafetyd/blackbox
	vsv speakersafetyd
}

